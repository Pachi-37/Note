# 第四章 类和对象



### 类

构建对象的模板或蓝图

##### 封装

将数据和行为分装在一个包里面，对对象的使用者隐藏数据的实现方式

> 分装的关键，防止类中的方法直接访问，其他类的实例域



##### 实例域

对象当中的数据



##### 方法

操作数据的过程



##### 对象状态

实例域值的集合



### 对象

##### 行为

可以对对象施加的操作



##### 状态

对于施加操作，对象是如何响应

> 对象状态的改变必须通过调用方法实现，否则说明封装性遭到破坏



##### 标识

如何分辨，相同行为与状态不同的对象



### 类之间的关系

##### 依赖

经可能将相互依赖的关系减少，让类之间的耦合度最少



##### 聚合

类之间包含关系的存在



##### 继承



![image-20210523100553409](imgs/image-20210523100553409.png)



### 使用预定义类



##### 对象和对象变量

对象变量的值存储在另一个地方对象的引用



##### 构造器

构造器是一种特殊的方法，用来构建并初始化对象



##### 隐式参数和显示参数

- 隐式参数

方法名前的对象

- 显示参数

方法名后括号内的数值

> 每个方法中，关键字 `this` 表示隐式参数



##### 封装

设置实例域的值

- 一个私有的数据域
- 一个公共的域访问方法
- 一个公共的域更改器



###### 优势

改变数据域，除了该类的方法外，不影响其他代码

更改器可以执行错误检查



##### `fianl` 实例域

将实例域定义为 `final`，构建对象必须初始化这样的域

> 要确保一个构造器执行之后，这个域的值被设置，之后无法再被修改
>
> `final` 主要用于：基本类，或不可变类的域

> `final` 只是保证变量对象的引用不改变，但是对象本身是可以改变的



### 静态域和静态方法

##### 静态方法

没有隐式参数

###### 使用情况

- 方法不需要访问对象的状态，需要的参数可以直接通过显示参数提供
- 一个方法只需要访问类的静态域



### 对象析构和 `finalize` 方法

##### 析构器

析构器常见的操作是回收分配给对象存储空间

> Java 的自动回收机制，不需要人工回收内存

##### `finalize`

在垃圾回收器清除对象之前调用

> 一般情况侠不使用，无法控制执行时间



### 包

##### 静态导入

`import` 还可以导入静态方法和静态域



##### 将类放入包

要想将一个类放人包中， 就必须将包的名字放在源文件的开头



##### 类的路径

为了使类能被多个程序共享

- 将类放在一个目录中 (包的树状结构基目录)
- 将 `JAR` 放在一个目录
- 设置类路径
  - `java -classpath`



### 文档注释(`Javadoc`)

##### 定界符

以 `/**` 开始的注释

> 修改代码时要保证注释和源码保持一致性



##### 注释的插入

`Javadoc` 使用程序可以根据以下特性抽取信息

- 包
- 公共类和接口
- 公共的和受保护的构造器及方法
- 公共的和受保护的域

