### 第三章 `Java` 的基本程序设计结构



##### 注释

###### `/** */`

可以用来自动生成文档，具体内容在第四章



##### 数据类型

长整型数据后面有一个后缀 `L` 或 `l`

十六进制数值有一个前缀 `0x` 或 `0X` 

八进制有一个前缀 `0`

从 `java7` 开始，加上前缀 `0b` 或 `0B`

> 从 `Java7` 开始还可以为数字字面量添加下划线 `_` : `1_100_00_1`

浮点特殊情况

- 正无穷大
- 负无穷大
- `NaN `(不是一个数)
  - 可以使用 `Double.isNaN()` 判断

> 一 正整数除以 0 的结果为正无穷大。计算 0/0 或者负数的平方根结果为 `NaN`

> 警告：浮点数不适合用于金融方面的计算，应该使用 `BigDecimal` 类



##### 字符串

###### 子串

`String` 类 `substring` 可以从一个较大字符串体取子串



###### 拼接

`Java` 语言允许使用 `+` 拼接两个字符串

> 需要把多个字符串放在一起，并使用一个特定的定界符分隔，使用 `String` 中的静态方法 `join()` 



###### 不可变字符串



###### 检测字符串是否相等

`s.equals(t)`

> 其中 `s` 和 `t` 既可以是字符串变量，也可以是字符串字面量



###### 空串和 `Null` 串



##### 码点和代码单元

`Java` 字符串由 `char` 值序列组成，`char` 数据类型是一个采用 `UTF-16` 编码表示 `Unicode` 代码单元

> 大多数使用一个代码单元，辅助字符需要一对

`length()` 方法返回采用 `UTF-16` 编码表示给定字符串需要的代码单元数量

> 想要得到实际长度，即码点数量 `codePointCount(0,str.length())`

```java
// 得到第 i 个码点
int index = str.offsetByCodePoints(0,i);
int cp = str.codePointAt(index);
```



##### 构建字符串

> 在 `JDK5.0` 引入 `StringBuilder` 。这个类是 `StringBuffer` 前身，允许使用多线程的方式添加或删除字符
>
> 如果一个字符串在一个单线中，一般使用 `SrtingBuilder`



### 输入输出



##### 读取输入

`Scanner` 对象

> `nextLine` 行输入，可以包含空格 
>
> `next` 读取一个单词，以空格为分隔符



> 因为 `Scanner` 输入是可见的，一般不用来输入密码，可以使用 `Console` 类来实现

```java
Console cons = System.console();
char[] passwd = cons.readPassword("Password:")
```

>为安全期间，密码存放在一维数组中



##### 格式化输出

`Java SE 5.0` 沿用了 `C` 语言中的 `printf` 方法



##### 文件的输入输出

对文件读取，需要使用 `File` 对象构造一个 `Scanner` 对象

> 采用命令行启动程序，可以利用 `Shell` 的重定向语法将任意文件关联到 `System.in` 和 `System.out`：这样可以避免 `IOException`



### 流程控制

##### 块的作用域

块确定了变量的作用域，块之间可以嵌套；不能在嵌套的两个块之间声明同名变量



### 大数值

如果基本的整数和浮点数不能够满足需求，可以使用 `BigInteger` 和 `BigDecimal`

使用 `valueOf` 方法可以将普通数值转换为大数值

> 大数值在运算时不能使用算术运算符，使用大数值类中的方法



### 数组

一旦创建数组，就不能在改变大小；如果需要在运行时扩展数组的大小，就需要使用数组列表



### `for-each`



### 命令行参数

`String[] arg`，`main` 方法接收一个字符串数组，也就是命令行参数