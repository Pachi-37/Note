# `Scala`

一种多范式的编程语言

> 使用函数式编程来操作 `spark` 更加容易



### 安装 `Scala` 

`Scala` 是基于 `Java` 虚拟机的，安装前必须先配置 `Java` 环境



##### 命令行

在命令行里面，输入 `scala` 代码，解释器会直接返回结果

> 如果未指定变量存放计算的值，那么这个值默认名称会位 `res` 开头的变量



### 基本概念

##### 变量

- 可变变量 `var` 

- 不可变变量 `val`

变量声明时可以手动指定声明变量的类型，如果不指定，`scala` 自动根据值的类型进行判断

> `val c: Int = 1`



##### 数据类型

- 基本数据类型
  - 类似于 `java`
- 增强版数据类型
  - `StringOps`
  - `RichInt`
  - `RichDouble`



##### 操作符

没有提供自增和自减运算符，其他用法类似 `java`



##### `if` 表达式

表达式有返回值，`if` 或者 `else` 中最后一条语句返回的值

如果 `if` 和 `else` 返回的值不一致，返回值的类型取其公共父类



##### 循环

```scala
// 取1到10
for(1 <- 1 to 10){
    
}
// 取 1到9
for(1 <- 1 until 10){
    
}
```

 循环的高级使用

-  `if` 守卫模式

  - 在循环的时候进行筛选

  ```scala
  // 找出偶数
  for (i <- 1 to 10 if i % 2 == 0)
  ```

- `for` 推导式

  - 构造集合
  - 在使用 `for` 循环时使用 `yield` 关键字，对迭代出来的数字进行处理



##### 集合(`Set`)

- 可变集合

  - `scala.collection.mutable`

- 不可变集合

  - `scala.collection.immutable`
  - 默认情况下使用

  > 对不可变的 `set` 操作，会产生一个新的 `set`，原来的 `set` 没有改变



##### `List`

不可变的列表

- `list.head`
  - 取出列表头
- `list.tail`
  - 取出除头外元素
- `list.head :: list.tail`
  - 拼接结果



`ListBuffer`

支持动态增加或移除元素



##### `Map`

可迭代的键值对，默认情况下使用不可变的 `Map`



##### `Array`

和 `java` 中的数组类似，长度不可变

由于两者都运行在 `jvm` 上，双方可以相互调用，在底层上 `scala` 数组就是 `java` 数组



##### `Tuple`

元组，和 `Array` 相似，都是不可变的，可以包含不同类型的元素

元素的下标从 `1` 开始

支持的元组的最大长度为 `22`



### 面向对象的特性

- 类

  - `class` 和 `java` 中的类基本相似

- 对象

  - `Object`
  - 类似于 `java` 中的类，需要自行定义

  > 对象可以通过 `new` 或者定义

- 接口

  - `trait`
