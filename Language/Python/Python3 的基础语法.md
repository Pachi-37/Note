# `Python3` 的基础语法

### 文件

默认情况下，`python3` 源码文件是以 `UTF-8` 编码，所有的字符串为 `unicode` 字符串



### 标识符

第一个标识符必须是字母表中的字母或者下划线（`_`），标识符对大小写敏感



### 标准数据类型

- 不可变

  - 数字(`Number`)
    - `int`
    - `float`
    - `bool`
    - `complex`

  > `python2` 中没有 `boolean` 类型，使用 `0`， `1` 表示
  >
  > 布尔类型是可以和数字相加的
  >
  > 使用 `isinstance` 来判断
  >
  > `/` 数值除法，返回浮点数；`//` 获取整数
  >
  > 混合计算时会将整型转换为浮点数

  - 字符串

    - `\` 用来转义特殊字符，前面使用 `r` 防止转义
    - 反斜杠可以作为续行符，还可以使用 `'''` `"""` 跨越多行
    - 对字符串进行切片，获取一段子串

    > 对一个索引位置赋值，会导致错误

  - 元组

    - 和列表相似，但是元素不能修改
    - 虽然元素不可变，单数可以包含可变对象
    - 和字符串类似，可以被索引可以从 `0` 开始

    > 构造包含 `0` 或者 `1` 个元组是一个特殊的问题，需要一些额外的语法规则
    >
    > `tup = (2,) # 一个元素需要在后面添加逗号`

- 可变

  - 列表

    - 最常使用的数据类型
    - 列表写在方括号之间，使用逗号分隔元素列表
    - 和字符串有相似的操作，但是列表中的元素是可以改变的

  - 集合

    - 无序不重复元素的集
    - 进行成员关系测试和消除重复元素

    > 创建一个空集合必须使用 `Set()` ；`set{}` 创建的是一个空字典

  - 字典

    - 一个无序键值对集合
    - 关键字必须使用不可变类型
    - 同一个字典中的关键字不能重复

> `isinstance`和`type`的区别
>
> `type` 只接受一个参数，不仅可以判断变量是否属于某个值，而且可以得到未知的参数类型
>
> `isinstance` 只能判断是否属于一个已知的类型



### `del`

删除一些对象的引用



### 字符串

使用三个单引号或者双引号可以囊括一个多行字符串

使用 `\` 作为转义字符

使用 `r` 或者 `R` 则使用自然字符串，取消转义

前面使用 `u` 或者 `U` 来处理 `unicode` 字符串

字符串不可变性

字符串使用 `+` 连接，`*` 运算重复

两种索引方式，从左向右以 `0` 开始，从右向左 `-1` 开始

没有单独的字符类型，字符就是长度为 `1` 的字符串



### 运算符

逻辑运算符

- `and`
- `or`
- `not`

成员运算符

是否存在于指定序列中

- `in`
- `not in`

身份运算符

用于比较两个对象的存储单元

- `is`
- `is not`



### 输入和等待用户输入

`input` 函数可以用来接收输入，它可以传入一个字符串



### 导入

`import` 或者 `from...import`

- `import somemodule`
  - 导入全部模块
- `from somemodule import somefunction`
  - 从某个模块导入某个函数
- `from somemodule import *`
  - 将模块中的函数全部导入



### `end` 关键字

将结果输出到同一行，或者在输出的末尾添加不同的字符



### 序列（`Seq`）

一块可以存放多个值的连续内存空间，按照一定顺序排列，使用索引进行访问

序列的类型包含字符串，列表，元组，集合和字典

> 集合和字典不支持索引，切片，相加和相乘操作
>
> 通过序列切片可以生成新的序列



### 字符串

不支持单字符类型，单字符作为字符串来使用

可以使用 `[]` 来进行切片

> 转义字符
>
> `\` 续行符
>
> `\a` 响铃
>
> `\b` 退格
>
> `\000` 退格
>
> `\v` 纵向制表符
>
> `\t` 横向制表符

格式化字符串

###  

### `Pass`

语句不做任何事情，它只是语法上需要一条语句但是程序上不需要时候使用



### 迭代器

从集合的第一个元素开始访问，直到所有的元素被访问玩结束，迭代器只能往前，不能后退

迭代器中的元素可以使用 `for` 循环去遍历



### 生成器

使用 `yield` 的函数被称为生成器，生成器返回迭代器的函数

生成器从严格意义上来讲就是迭代器，生成器运行过程中遇到了 `yield` 会暂停并保存当前所有的运行信息，返回 `yield` 的值；并在下一次执行 `next()` 时候继续从当前位置运行



### 函数

```
def name(parameter)
```



### 简单的数据结构

可以使用列表自身携带的方法，用列表来实现堆栈，队列等

列表推导式，提供从序列创建列表的简单方式

```python
vec = [2, 4, 6]
[3*x for x in vec]

[6, 12, 18]
```



### 嵌套列表解析

```python
# 将 3 * 4 的列表转换为 4 * 3
[[row[i] for row in matrix] for i in range(4)]
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]
```



### 模块

模块只会导入一次，当解释器遇到 `import` 语句，如果在当前搜索路径被导入

一个模块只会被导入一次

如果经常使用一个函数，可以将它赋值给一个本地变量

`from...import` 语句，从模块中导入指定的部分到当前的命名空间



##### `__name__` 属性

一个模块被另一个程序引入时，其主程序将运行



标准模块

`Python` 本身携带着一些标准模块库，有些模块被直接构建在解析器里面

这些模块会根据不同的操作系统进行不同的配置，`winreg` 模块就是专供 `Windows` 系统

目录中只有包含一个叫做 `__init__.py` 的文件才能被认为是一个包；包含一些初始化代码或者为 `__all__` 变量赋值



### 输出和输入

输出

- `print()` 函数
- 表达式语句
- 文件对象的 `write()` 方法
- 标准输出文件可以使用 `sys.stdout`

> `str.format()` 函数来格式化输出
>
> `repr()` `str()` 来实现将输出的值转换为字符串；`repr()` 产生一个解释器易读的表达式

读写文件

`open(filename, mode)` 返回一个 `file` 对象

常用模块

`file`

`os`



### 面向对象

```python
class ClassName:
    ...

# 实例化对象
x = ClassName()

# 初始化状态
def __init__(self):
    self.data=[]
```

类对象支持两种操作：属性引用和实例化

##### 类的方法

在类的内部，使用 `def` 关键字可以为类定义一个方法，与一般方法不同，类方法必须包含 `self`，且为第一个参数



##### 继承

```python
class DerivedClassName(BaseClassName):
    
```

> 多继承，有限支持多继承

##### 私有属性

`__private` 两个下划线开头，声明该属性为私有

##### 类的专有方法

##### 运算符重载

##### 文件通配符

##### 错误输出重定向和程序终止

`sys` 可以使用 `stdin` `stdout` `stderr` 

即使在 `stdout` 被重定向时，后者也可以显示警告和错误信息

大多数脚本定向中止都使用 `sys.exit()`



### 正则

`re` 模块为高级字符串处理提供正则表达式工具

> 如果只需要简单的功能，考虑使用字符串的方法



### 数学函数



### 互联网访问

模块用于访问互联网以及处理网络通信协议

`urllib.request` 处理从 `urls` 接受来的数据

`smtplib` 发送电子邮件



### 日期和时间

`datetime` 模块为日期和时间处理同时提供简单和复杂的方法



### 数据压缩

支持通用的数据打包和压缩格式 `zlib`



### 性能度量

`timeit` 一个度量工具，给出不同方法之间的性能差异



### 测试模块

`doctest` 提供一个工具，扫描模块并根据程序中内嵌的文档字符串执行测试



### 正则表达式

`python` 提供了 `Perl` 风格的正则表达式

> `/usr/bin/perl` 一种字符串的匹配模式，检查一个串是否含有子串
>
> 匹配：`m//`；替换：`s///`；转换：`tr///`
>
> 匹配：`=~`；不匹配：`!~`



### `CGI` 编程

通用网络接口，一段程序，运行在服务器上面

##### 网页浏览

- 使用浏览器访问 `URL` 并且连接到 `HTTP web` 服务器
- 接收到请求之后会解析 `URL`，访问文件，返回信息
- 浏览器从服务器接收信息，显示接受文件或者错误信息



##### `GET` & `POST`

`GET` 方法发送编码后的用户信息到服务器，数据信息包含在请求页面 `URL` 上，以 `?` 分割	

`GET` 可以被缓存；请求保留在浏览器历史记录里面；可以被收藏为书签；不应用来处理敏感数据；请求有长度限制；只应用于取回数据

`POST` 先服务器传递数据更加安全可靠（传输敏感数据）



##### `Cookie`

使用 `cookie` 对用户信息进行判断

客户访问脚本时通过客户浏览器写入记录数据，用户下次访问时取回数据信息





### 网络编程

`python` 提供两个级别的访问网络服务

- 低级别的网络服务支持基本的 `Socket`
  - 提供标准的 `BSD Sockets API`
  - 访问底层操作系统的 `socket` 接口
- 高级别的网络模块 `SocketServer`
  - 服务中心类，简化网络服务器开发



##### `socket` 

套接字，应用程序通过套接字向网络发出请求或者应答网络请求，使得主机将或者一台计算机上的进程可以相互通信

```python
socket.socket([family[, type[, proto]]])
```

- `family`
  - 可以使用 `AF_UNIX` 或者 `AF_INET`
- `type`
  - 套接字根据面向连接或者是非连接分为 `SOCK_STREAM` 或者 `SOCK_DGRAM`
- `proto`
  - 一般默认不填为 `0`



### 多线程

独立的线程有一个程序运行时的入口，顺序执行序列和程序出口；线程不能独立执行，必须存在应用程序中，由应用程序提供多个线程控制



### 代码规范

函数之间使用两行空行

类和函数入口之间使用两行空行分隔

使用 `;` 分隔语句，可以使得一行同时存在多条命令



