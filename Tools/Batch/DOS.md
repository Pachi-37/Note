# `echo`

- 建立新文件或增加文件内容

  - `echo` 文件内容>文件名

- 喇叭

  - `echo ^G`

  > `CTRL G`



### `Pause`

暂停

> 显示其他提示语：
>
> Echo 其他提⽰语 & pause > nu



### `errorlevel`

程序返回码，判断上一个程序是否执行成功



### `title`

设置 `cmd` 窗口的标题

`title ` 新标题



### `COLOR`

设置默认的控制台前景和背景颜色

`COLOR [attr]`

> 如果使用相同的前景和背景颜色来执行 `COLOR` 命令，`COLOR` 会将 `errorlevel` 设置为 `1`



### `mode` 配置系统设备



### `GOTO` 和 `:`

`goto` 跳转; 在批处理中 “:XXX” 构建一个标号，然后用 `GOTO XXX` 跳转到标号 `:XXX` 处，然后执行标号的命令

> 标签名字可以随便起，前加个冒号表示这个字符串是标签



### `find`

在文件中搜索字符串

`find [/v...] "string" [[drive:][path]filename[]]`

```
/V			显示所有未包含指定字符串的行
/C			仅显示包含字符串的行数
/N 			显示行号
/I			搜索字符串时忽略大小写
/OFF[LINE]	不要跳过具有脱机属性集的文件
```

> 如果没有指定路径，将搜索键入的或者有另一个命令产生的文字
>
> `find` 和 `type` 通常结合使用



```batch
# 去除 find 命令自带的提示语
@echo off
echo 111 >test.txt
echo 222 >>test.txt
type test.txt|find "111"
del test.txt
pause
```



### `start` 

批处理中调用外部程序的命令（新窗口）



### `assoc` 和 `ftype`

`assoc` 设置文件扩展名，关联到文件类型

`ftype` 设置文件类型，关联到执行程序和参数



### 变量延迟

运行命令的时候，命令解释器会将命令先读取，如果命令有环境变量，先将环境变量先读取出来，但是有的时候我们将变量读取出来之后变量已经发生改变了



### `ATTRIB`显示或更改属性



### 常用特殊符号



##### `@`

关闭当前行的回显

##### `%`

批处理变量引导符

> `%val%` 引用变量，调用程序外部参数使用 `%1-%9` 等
>
> `%0` 批处理文件本身，包含完整的路径和扩展名
>
> `%*` 从第一个参数开始的所有参数



##### `>`

重定向符

`DOS` 标准的输入输出通常是在键盘和显示器上进行的，利用重定向，可以方便的将输入输出改向磁盘文件或者其他设备

> `>` 将命令直接发送到文件或者设备，有些命令输出（错误消息）不能重新定向
>
> `>>` 将命令输出添加到文件结尾而不删除其中已有的信息
>
> `<` 从文件而不是从键盘获取命令
>
> `>&` 将文件从一个默认的 `IO` 流重新定向到另一个默认的IO流

- `STDIN 0`
  - 标准输入，发送自键盘
- `STDOUT 1`
  - 标准输出， 发送到 `SHELL` 窗口
- `STDERR 2`
  - 标准错误输出，发送命令到 `SHELL` 窗口
- `UNDEFINED 3~9`
  - 特定于应用程序的句柄



##### `|` 

命令管道符

将第一条命令的结果当作第二条命令的参数来使用



##### `^`

转义字符

对特殊字符 `<`, `> ` ,`&` 的前导字符，将字符的特殊功能去掉，仅仅把他们当作为符号

该符号还可以作为续行符使用



##### `&`

组合命令

`&` 、`&&` 、`||` 

> `&` 命令顺序执行，从前到后
>
> `&&` 同时执行多条，当出现出错的命令之后不再执行命令
>
> `||` 成功执行完一个命令进行中断处理



##### 命令优先级比较

管道命令的优先级最高，其次是重定向命令然后为组合命令



##### `""`

字符串界定符

允许字符串中出现空格，



`,`

逗号，相当于空格



`;`

当命令相同时，可以将不同的命令分隔开来，但是执行效果不发生改变，如果发生错误，返回错误报告，程序仍然会继续执行

> 如果目标路径不存在，则语句不执行
>
> 目标文件不存在，则会继续执行



`()`

括号必须成对使用，括号里面的命令被看为一个整体，视为一条命令



# `DOS` 循环

基本格式

```DOS
FOR %%variable IN (set) DO command [command-parameters]
```



> `%%variable` 指定一个单一的字母标识可替换的参数
