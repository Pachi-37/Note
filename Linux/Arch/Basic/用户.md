# 用户

- ### 用户分类

  - 根据账号分
    - 本地账号
    - 远程（域）账号
  - 账号功能
    - 超级用户（root）UID：0
    - 普通用户
      - 系统用户	UID：1~499
      - 本地用户    UID：500+



- ### 组

  - 根据账号分
    - 本地组
    - 远程（域）组
  - 账号功能
    - 超级用户组（root）UID：0
    - 普通用户组
      - 系统用户组	UID：1~499
      - 本地用户组    UID：500+

==每一个用户都有一个同名的组==

- 关于系统用户和组配置文件
  - 账号信息
    - /etc/passwd（用户）
      - root: 		   x 				:		0		:		0		:		root		:		/root		:		/bin/bash
      - 用户名    密码占位符           UID             GID         用户描述           用户家目录       登录使用shell
    - /etc/shadow
      - root		:$6$W4……TP. 		:		 18335		     :					0				:	99999		:	7		:::
      - 用户名                     密码              最近更爱时间       密码不能修改天数      密码过期时间     密码休要修改前警告          宽限天数           账号过期时间          保留
        - 过期后锁定，无法使用
  - 密码信息
    - /etc/group
      - root	:		 x 				:		0		:
      - 组名         密码占位符         GID             用户名
    - /etc/gshadow

- ##### passwd中伪用户

  - bin
    - 可执行用户命令文件
  - sys
    - 系统文件
  - adm
    - 账号文件
  - uucp
    - UUCP使用
  - lp
    - lp或lpd子系统
  - ==nobody==
    - NFS使用
      - 源码安装  nginx ，运行nginx  web

- ##### shell（壳）
  - /bin/sh
  - /bin/bash
  - /bin/rbash
  - /bin/dash
  - /usr/bin/tmux
  - /usr/bin/screen



### 添加用户

- useradd	

  - ```
    -u	UID				-d	主目录
    -g	起始组			  -G  附加组
    -s	使用shell
    ```


### 关于用户密码

- passwd
  - 修改当前用户密码
- 如果创建多个用户（shell脚本）
  - echo  密码  | passwd  --stdin  用户名		# --stdin  非交互



### 修改用户信息

- usermod	username

- ```
  -u	UID				-d	主目录
  -g	起始组			  -G  附加组
  -s	登录
  ```



### 删除用户

- userdel
  - userdel  -r 	用户名



控制用户添加规则文件

- /etc/default/uesradd
- 



### 查看用户信息

- id
  - 查看用户UID等信息
- whoami
  - 查看当前用户
- w
  - 查看什么人登录了



### 用户切换

- su	【-】（将shell一起换）PATH



### 误删用户文件操作

- 将模板复制到该用户

- $$
  cp /etc/skel/.bash* 目标文件
  $$



### 进入单用户模式下找回root身份

- passwd 更改密码

- 绕过root

  - 编辑文件（/etc/passwd）
  - 将root下面X删除

  



### 了解

- 开发相关软包，在安装系统时要安装上

- 破解RHEL操作系统上面的shadow文件





